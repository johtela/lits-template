
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>LiTScript Template - Table of Contents</title>
    <link rel="icon" type="image/icon" href="/images/favicon.png" />
    <link rel="stylesheet" href="/css/main.css" />
    
    
</head>
<body>
    
    <div class="navbar">
        <div class="navmenu">
            
    <a class="title enabled" href="/">
        <img src="/images/bulb.svg" />
        <span>LiTScript Template</span>
    </a>
    <a class="enabled" href="https://www.npmjs.com/package/lits-template">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M288 288h-32v-64h32v64zm288-128v192H288v32H160v-32H0V160h576zm-416 32H32v128h64v-96h32v96h32V192zm160 0H192v160h64v-32h64V192zm224 0H352v128h64v-96h32v96h32v-96h32v96h32V192z"/></svg>
        <span>Download</span>
    </a>
    <a class="enabled" href="https://github.com/johtela/lits-template">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
        <span>GitHub</span>
    </a>
    <a class="enabled" href="/license.html">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"/></svg>
        <span>License</span>
    </a>
    <a class="enabled" href="/src/front-matter.html">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M223.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L319.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L393.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34zm-192 34l136 136c9.4 9.4 24.6 9.4 33.9 0l22.6-22.6c9.4-9.4 9.4-24.6 0-33.9L127.9 256l96.4-96.4c9.4-9.4 9.4-24.6 0-33.9L201.7 103c-9.4-9.4-24.6-9.4-33.9 0l-136 136c-9.5 9.4-9.5 24.6-.1 34z"/></svg>
        <span>Previous: Front Matter</span>
    </a>
    <a class="enabled" href="/components/common/theme.html">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34zm192-34l-136-136c-9.4-9.4-24.6-9.4-33.9 0l-22.6 22.6c-9.4 9.4-9.4 24.6 0 33.9l96.4 96.4-96.4 96.4c-9.4 9.4-9.4 24.6 0 33.9l22.6 22.6c9.4 9.4 24.6 9.4 33.9 0l136-136c9.4-9.2 9.4-24.4 0-33.8z"/></svg>
        <span>Next: Theming Guide</span>
    </a>
        </div>
        
    <a class="hamburger">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
    </a>
    </div>
    
    <div class="layout">
        <div class="sidepane collapsible">
            
    <div class="tocmenu">
        <h3>Table of Contents</h3>
        
    <ul>
        
    <li>
        
        <a href="/index.html">LiTScript Templates </a>
        
    </li>
    <li>
        
        <a href="/src/template.html">Template API </a>
        
    </li>
    <li>
        
        <a href="/src/front-matter.html">Front Matter </a>
        
    </li>
    <li>
        
        <a href="/src/toc.html" class="highlight">Table of Contents </a>
        
    </li>
    <li>
        
        <a href="/components/common/theme.html">Theming Guide </a>
        
    </li>
    <li>
        
        <a href="/license.html">License </a>
        
    </li>
    </ul>
    </div>
            
    <div class="footer">
        Copyright Â© 2019 Tommi Johtela
        <div class="ad">
            Created with <a href="https://github.com/johtela/literatets">LiTScript</a>
        </div>
    </div>

        </div>
        <div class="sideicon collapsible">
            
    <a class="hamburger">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
    </a>
        </div>
        <div class="scrollingarea closepopups">
            
    <div class="contentarea">
        <h1 id="table-of-contents">Table of Contents</h1>
<p>The data structure for table of contents or <em>TOC</em> is defined here. Also
functions for loading and saving it.</p>
<details>
<summary>toc.ts imports</summary>
<pre class="syntaxhighlight"><code><span class="keyword">import</span> <span class="punctuation">*</span> <span class="keyword">as</span> <span id="191" data-toggle="tooltip" data-title="typeof fs">fs</span> <span class="keyword">from</span> <span class="string">&#039;fs&#039;</span>
</code></pre>
</details>
<h2 id="data-structure">Data Structure</h2>
<p>The structure of the TOC is recursive, but simple. A TOC consists of entries
which contain information about single page. An entry might contain
sub-entries which share the TOC structure.</p>
<p>An entry contains the following information:</p>
<ul>
<li><code>page</code> contains the title of the page.</li>
<li><code>file</code> is the relative path to the HTML page without the leading <code>/</code>
character.</li>
<li><code>desc</code> is an optional, longer description for the page.</li>
<li><code>subs</code> contains the sub-entries.</li>
</ul>
<pre class="syntaxhighlight"><code><span class="keyword">export</span> <span class="keyword">type</span> <span id="209" class="typename" data-toggle="tooltip" data-title="Toc">Toc</span> <span class="punctuation">=</span> <a href="/src/toc.html#784"><span class="typename" data-toggle="tooltip" data-title="TocEntry">TocEntry</span></a><span class="punctuation">[</span><span class="punctuation">]</span>
<span class="keyword">export</span> <span class="keyword">interface</span> <span id="784" class="typename" data-toggle="tooltip" data-title="TocEntry">TocEntry</span> <span class="punctuation">{</span>
    <span id="813" data-toggle="tooltip" data-title="string">page</span><span class="punctuation">:</span> <span class="keyword">string</span>
    <span id="831" data-toggle="tooltip" data-title="string">file</span><span class="punctuation">:</span> <span class="keyword">string</span>
    <span id="849" data-toggle="tooltip" data-title="string">desc</span><span class="punctuation">:</span> <span class="keyword">string</span>
    <span id="867" data-toggle="tooltip" data-title="Toc">subs</span><span class="punctuation">?</span><span class="punctuation">:</span> <a href="/src/toc.html#209"><span class="typename" data-toggle="tooltip" data-title="Toc">Toc</span></a>
<span class="punctuation">}</span>
</code></pre>
<h2 id="loading-toc">Loading TOC</h2>
<p>The function that loads TOC from file is defined below. It checks if the
given file exists. If not, it returns an empty TOC. Otherwise it parses the
content to the data structure. Any errors in the data will cause exceptions.</p>
<pre class="syntaxhighlight"><code><span class="keyword">export</span> <span class="keyword">function</span> <span id="886" class="member" data-toggle="tooltip" data-title="(tocFile: string) =&gt; Toc">loadToc</span><span class="punctuation">(</span><span id="1184" data-toggle="tooltip" data-title="string">tocFile</span><span class="punctuation">:</span> <span class="keyword">string</span><span class="punctuation">)</span><span class="punctuation">:</span> <a href="/src/toc.html#209"><span class="typename" data-toggle="tooltip" data-title="Toc">Toc</span></a> <span class="punctuation">{</span>
    <span class="keyword">if</span> <span class="punctuation">(</span><span class="punctuation">!</span><a href="/src/toc.html#191"><span data-toggle="tooltip" data-title="typeof fs">fs</span></a><span class="punctuation">.</span><span class="member" data-toggle="tooltip" data-title="(path: fs.PathLike) =&gt; boolean">existsSync</span><span class="punctuation">(</span><a href="/src/toc.html#1184"><span data-toggle="tooltip" data-title="string">tocFile</span></a><span class="punctuation">)</span><span class="punctuation">)</span>
        <span class="keyword">return</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">;</span>
    <span class="keyword">try</span> <span class="punctuation">{</span>
        <span class="keyword">return</span> <span class="typename" data-toggle="tooltip" data-title="JSON">JSON</span><span class="punctuation">.</span><span class="member" data-toggle="tooltip" data-title="(text: string, reviver?: (this: any, key: string, value: any) =&gt; any) =&gt; any">parse</span><span class="punctuation">(</span><a href="/src/toc.html#191"><span data-toggle="tooltip" data-title="typeof fs">fs</span></a><span class="punctuation">.</span><span class="member" data-toggle="tooltip" data-title="{ (path: string | number | Buffer | URL, options?: { encoding?: null; flag?: string; }): Buffer; (path: string | number | Buffer | URL, options: string | { ...; }): string; (path: string | ... 2 more ... | URL, options?: string | { ...; }): string | Buffer; }">readFileSync</span><span class="punctuation">(</span><a href="/src/toc.html#1184"><span data-toggle="tooltip" data-title="string">tocFile</span></a><span class="punctuation">,</span> <span class="string">&#039;&#039;</span><span class="punctuation">)</span><span class="punctuation">)</span>
    <span class="punctuation">}</span>
    <span class="keyword">catch</span> <span class="punctuation">(</span><span id="1349" data-toggle="tooltip" data-title="any">e</span><span class="punctuation">)</span> <span class="punctuation">{</span>
        <span class="keyword">throw</span> <a href="/src/toc.html#1349"><span data-toggle="tooltip" data-title="any">e</span></a> <span class="keyword">instanceof</span> <span class="typename" data-toggle="tooltip" data-title="SyntaxErrorConstructor">SyntaxError</span> <span class="punctuation">?</span>
            <span class="typename" data-toggle="tooltip" data-title="ErrorConstructor">Error</span><span class="punctuation">(</span><span class="string">&quot;Could not parse TOC. Error: \n&quot;</span> <span class="punctuation">+</span>
                <a href="/src/toc.html#1349"><span data-toggle="tooltip" data-title="SyntaxError">e</span></a><span class="punctuation">.</span><span data-toggle="tooltip" data-title="string">message</span><span class="punctuation">)</span> <span class="punctuation">:</span> <a href="/src/toc.html#1349"><span data-toggle="tooltip" data-title="any">e</span></a>
    <span class="punctuation">}</span>
<span class="punctuation">}</span>
</code></pre>
<h2 id="saving-toc">Saving TOC</h2>
<p>Saving TOC just serializes the data structure to string and saves it to the
file specified.</p>
<pre class="syntaxhighlight"><code><span class="keyword">export</span> <span class="keyword">function</span> <span id="1491" class="member" data-toggle="tooltip" data-title="(toc: Toc, tocFile: string) =&gt; void">saveToc</span><span class="punctuation">(</span><span id="1650" data-toggle="tooltip" data-title="Toc">toc</span><span class="punctuation">:</span> <a href="/src/toc.html#209"><span class="typename" data-toggle="tooltip" data-title="Toc">Toc</span></a><span class="punctuation">,</span> <span id="1659" data-toggle="tooltip" data-title="string">tocFile</span><span class="punctuation">:</span> <span class="keyword">string</span><span class="punctuation">)</span> <span class="punctuation">{</span>
    <a href="/src/toc.html#191"><span data-toggle="tooltip" data-title="typeof fs">fs</span></a><span class="punctuation">.</span><span class="member" data-toggle="tooltip" data-title="(path: string | number | Buffer | URL, data: any, options?: fs.WriteFileOptions) =&gt; void">writeFileSync</span><span class="punctuation">(</span><a href="/src/toc.html#1659"><span data-toggle="tooltip" data-title="string">tocFile</span></a><span class="punctuation">,</span> <span class="typename" data-toggle="tooltip" data-title="JSON">JSON</span><span class="punctuation">.</span><span class="member" data-toggle="tooltip" data-title="{ (value: any, replacer?: (this: any, key: string, value: any) =&gt; any, space?: string | number): string; (value: any, replacer?: (string | number)[], space?: string | number): string; }">stringify</span><span class="punctuation">(</span><a href="/src/toc.html#1650"><span data-toggle="tooltip" data-title="Toc">toc</span></a><span class="punctuation">,</span> <span class="keyword">null</span><span class="punctuation">,</span> <span class="number">4</span><span class="punctuation">)</span><span class="punctuation">)</span>
<span class="punctuation">}</span>
</code></pre>
<h2 id="iterating-the-entries">Iterating the Entries</h2>
<p>Since TOC structure is recursive, it needs to be flattened, if you need to
iterate throuhg all the entries. The following generator does that.</p>
<pre class="syntaxhighlight"><code><span class="keyword">export</span> <span class="keyword">function</span><span class="punctuation">*</span> <span id="1742" class="member" data-toggle="tooltip" data-title="(entries: Toc) =&gt; Iterable&lt;TocEntry&gt;">iterateTocEntries</span><span class="punctuation">(</span><span id="1974" data-toggle="tooltip" data-title="Toc">entries</span><span class="punctuation">:</span> <a href="/src/toc.html#209"><span class="typename" data-toggle="tooltip" data-title="Toc">Toc</span></a><span class="punctuation">)</span><span class="punctuation">:</span> <span class="typename" data-toggle="tooltip" data-title="Iterable&lt;T&gt;">Iterable</span><span class="punctuation">&lt;</span><a href="/src/toc.html#784"><span class="typename" data-toggle="tooltip" data-title="TocEntry">TocEntry</span></a><span class="punctuation">&gt;</span> <span class="punctuation">{</span>
    <span class="keyword">for</span> <span class="punctuation">(</span><span class="keyword">let</span> <span id="2023" data-toggle="tooltip" data-title="number">i</span> <span class="punctuation">=</span> <span class="number">0</span><span class="punctuation">;</span> <a href="/src/toc.html#2023"><span data-toggle="tooltip" data-title="number">i</span></a> <span class="punctuation">&lt;</span> <a href="/src/toc.html#1974"><span data-toggle="tooltip" data-title="Toc">entries</span></a><span class="punctuation">.</span><span data-toggle="tooltip" data-title="number">length</span><span class="punctuation">;</span> <span class="punctuation">++</span><a href="/src/toc.html#2023"><span data-toggle="tooltip" data-title="number">i</span></a><span class="punctuation">)</span> <span class="punctuation">{</span>
        <span class="keyword">let</span> <span id="2070" data-toggle="tooltip" data-title="TocEntry">entry</span> <span class="punctuation">=</span> <a href="/src/toc.html#1974"><span data-toggle="tooltip" data-title="Toc">entries</span></a><span class="punctuation">[</span><a href="/src/toc.html#2023"><span data-toggle="tooltip" data-title="number">i</span></a><span class="punctuation">]</span>
        <span class="keyword">if</span> <span class="punctuation">(</span><a href="/src/toc.html#2070"><span data-toggle="tooltip" data-title="TocEntry">entry</span></a><span class="punctuation">.</span><a href="/src/toc.html#831"><span data-toggle="tooltip" data-title="string">file</span></a><span class="punctuation">)</span>
            <span class="keyword">yield</span> <a href="/src/toc.html#1974"><span data-toggle="tooltip" data-title="Toc">entries</span></a><span class="punctuation">[</span><a href="/src/toc.html#2023"><span data-toggle="tooltip" data-title="number">i</span></a><span class="punctuation">]</span>
        <span class="keyword">if</span> <span class="punctuation">(</span><a href="/src/toc.html#2070"><span data-toggle="tooltip" data-title="TocEntry">entry</span></a><span class="punctuation">.</span><a href="/src/toc.html#867"><span data-toggle="tooltip" data-title="Toc">subs</span></a><span class="punctuation">)</span> <span class="punctuation">{</span>
            <span class="keyword">for</span> <span class="punctuation">(</span><span class="keyword">let</span> <span id="2193" data-toggle="tooltip" data-title="TocEntry">subEntry</span> <span class="keyword">of</span> <a href="/src/toc.html#1742"><span class="member" data-toggle="tooltip" data-title="(entries: Toc) =&gt; Iterable&lt;TocEntry&gt;">iterateTocEntries</span></a><span class="punctuation">(</span><a href="/src/toc.html#2070"><span data-toggle="tooltip" data-title="TocEntry">entry</span></a><span class="punctuation">.</span><a href="/src/toc.html#867"><span data-toggle="tooltip" data-title="Toc">subs</span></a><span class="punctuation">)</span><span class="punctuation">)</span>
                <span class="keyword">yield</span> <a href="/src/toc.html#2193"><span data-toggle="tooltip" data-title="TocEntry">subEntry</span></a>
        <span class="punctuation">}</span>
    <span class="punctuation">}</span>
<span class="punctuation">}</span>
</code></pre>
<h2 id="finding-an-entry">Finding an Entry</h2>
<p>To find a specific page in the TOC, we iterate through the flattened entries
until we find the given file.</p>
<pre class="syntaxhighlight"><code><span class="keyword">export</span> <span class="keyword">function</span> <span id="2289" class="member" data-toggle="tooltip" data-title="(entries: Toc, file: string) =&gt; TocEntry">findTocEntryForFile</span><span class="punctuation">(</span><span id="2481" data-toggle="tooltip" data-title="Toc">entries</span><span class="punctuation">:</span> <a href="/src/toc.html#209"><span class="typename" data-toggle="tooltip" data-title="Toc">Toc</span></a><span class="punctuation">,</span> <span id="2494" data-toggle="tooltip" data-title="string">file</span><span class="punctuation">:</span> <span class="keyword">string</span><span class="punctuation">)</span><span class="punctuation">:</span> <a href="/src/toc.html#784"><span class="typename" data-toggle="tooltip" data-title="TocEntry">TocEntry</span></a> <span class="punctuation">{</span>
    <span class="keyword">for</span> <span class="punctuation">(</span><span class="keyword">let</span> <span id="2534" data-toggle="tooltip" data-title="TocEntry">entry</span> <span class="keyword">of</span> <a href="/src/toc.html#1742"><span class="member" data-toggle="tooltip" data-title="(entries: Toc) =&gt; Iterable&lt;TocEntry&gt;">iterateTocEntries</span></a><span class="punctuation">(</span><a href="/src/toc.html#2481"><span data-toggle="tooltip" data-title="Toc">entries</span></a><span class="punctuation">)</span><span class="punctuation">)</span>
        <span class="keyword">if</span> <span class="punctuation">(</span><a href="/src/toc.html#2534"><span data-toggle="tooltip" data-title="TocEntry">entry</span></a><span class="punctuation">.</span><a href="/src/toc.html#831"><span data-toggle="tooltip" data-title="string">file</span></a> <span class="punctuation">==</span> <a href="/src/toc.html#2494"><span data-toggle="tooltip" data-title="string">file</span></a><span class="punctuation">)</span>
            <span class="keyword">return</span> <a href="/src/toc.html#2534"><span data-toggle="tooltip" data-title="TocEntry">entry</span></a>
    <span class="keyword">return</span> <span class="keyword">null</span>
<span class="punctuation">}</span>
</code></pre>
<h2 id="find-previous-and-next-entry">Find Previous and Next Entry</h2>
<p>Navigation buttons need the reference to the previous and next page of the
given entry. This function also traverses through the flattened list, but
keeps the previous entry in a variable, in case the next one is the one we
are searching for.</p>
<pre class="syntaxhighlight"><code><span class="keyword">export</span> <span class="keyword">function</span> <span id="2650" class="member" data-toggle="tooltip" data-title="(entries: Toc, file: string) =&gt; [TocEntry, TocEntry]">findPreviousAndNextTocEntries</span><span class="punctuation">(</span><span id="3009" data-toggle="tooltip" data-title="Toc">entries</span><span class="punctuation">:</span> <a href="/src/toc.html#209"><span class="typename" data-toggle="tooltip" data-title="Toc">Toc</span></a><span class="punctuation">,</span> <span id="3022" data-toggle="tooltip" data-title="string">file</span><span class="punctuation">:</span> <span class="keyword">string</span><span class="punctuation">)</span><span class="punctuation">:</span>
    <span class="punctuation">[</span><a href="/src/toc.html#784"><span class="typename" data-toggle="tooltip" data-title="TocEntry">TocEntry</span></a><span class="punctuation">,</span> <a href="/src/toc.html#784"><span class="typename" data-toggle="tooltip" data-title="TocEntry">TocEntry</span></a><span class="punctuation">]</span> <span class="punctuation">{</span>
    <span class="keyword">let</span> <span id="3074" data-toggle="tooltip" data-title="TocEntry">prev</span><span class="punctuation">:</span> <a href="/src/toc.html#784"><span class="typename" data-toggle="tooltip" data-title="TocEntry">TocEntry</span></a> <span class="punctuation">=</span> <span class="keyword">null</span>
    <span class="keyword">let</span> <span id="3105" data-toggle="tooltip" data-title="boolean">found</span> <span class="punctuation">=</span> <span class="keyword">false</span>
    <span class="keyword">for</span> <span class="punctuation">(</span><span class="keyword">let</span> <span id="3133" data-toggle="tooltip" data-title="TocEntry">entry</span> <span class="keyword">of</span> <a href="/src/toc.html#1742"><span class="member" data-toggle="tooltip" data-title="(entries: Toc) =&gt; Iterable&lt;TocEntry&gt;">iterateTocEntries</span></a><span class="punctuation">(</span><a href="/src/toc.html#3009"><span data-toggle="tooltip" data-title="Toc">entries</span></a><span class="punctuation">)</span><span class="punctuation">)</span>
        <span class="keyword">if</span> <span class="punctuation">(</span><a href="/src/toc.html#3105"><span data-toggle="tooltip" data-title="boolean">found</span></a><span class="punctuation">)</span>
            <span class="keyword">return</span> <span class="punctuation">[</span><a href="/src/toc.html#3074"><span data-toggle="tooltip" data-title="TocEntry">prev</span></a><span class="punctuation">,</span> <a href="/src/toc.html#3133"><span data-toggle="tooltip" data-title="TocEntry">entry</span></a><span class="punctuation">]</span>
        <span class="keyword">else</span> <span class="keyword">if</span> <span class="punctuation">(</span><a href="/src/toc.html#3133"><span data-toggle="tooltip" data-title="TocEntry">entry</span></a><span class="punctuation">.</span><a href="/src/toc.html#831"><span data-toggle="tooltip" data-title="string">file</span></a> <span class="punctuation">==</span> <a href="/src/toc.html#3022"><span data-toggle="tooltip" data-title="string">file</span></a><span class="punctuation">)</span>
            <a href="/src/toc.html#3105"><span data-toggle="tooltip" data-title="boolean">found</span></a> <span class="punctuation">=</span> <span class="keyword">true</span>
        <span class="keyword">else</span>
            <a href="/src/toc.html#3074"><span data-toggle="tooltip" data-title="TocEntry">prev</span></a> <span class="punctuation">=</span> <a href="/src/toc.html#3133"><span data-toggle="tooltip" data-title="TocEntry">entry</span></a>
    <span class="keyword">return</span> <span class="punctuation">[</span><a href="/src/toc.html#3074"><span data-toggle="tooltip" data-title="TocEntry">prev</span></a><span class="punctuation">,</span> <span class="keyword">null</span><span class="punctuation">]</span>
<span class="punctuation">}</span>
</code></pre>
<h2 id="adding-new-entry">Adding New Entry</h2>
<p>Adding a new entry is done simply by pushing it at the end of the top-level
TOC. The user can manually relocate it later.</p>
<pre class="syntaxhighlight"><code><span class="keyword">export</span> <span class="keyword">function</span> <span id="3356" class="member" data-toggle="tooltip" data-title="(toc: Toc, page: string, file: string) =&gt; void">addTocEntry</span><span class="punctuation">(</span><span id="3555" data-toggle="tooltip" data-title="Toc">toc</span><span class="punctuation">:</span> <a href="/src/toc.html#209"><span class="typename" data-toggle="tooltip" data-title="Toc">Toc</span></a><span class="punctuation">,</span> <span id="3564" data-toggle="tooltip" data-title="string">page</span><span class="punctuation">:</span> <span class="keyword">string</span><span class="punctuation">,</span> <span id="3578" data-toggle="tooltip" data-title="string">file</span><span class="punctuation">:</span> <span class="keyword">string</span><span class="punctuation">)</span> <span class="punctuation">{</span>
    <span class="keyword">if</span> <span class="punctuation">(</span><span class="punctuation">!</span><a href="/src/toc.html#2289"><span class="member" data-toggle="tooltip" data-title="(entries: Toc, file: string) =&gt; TocEntry">findTocEntryForFile</span></a><span class="punctuation">(</span><a href="/src/toc.html#3555"><span data-toggle="tooltip" data-title="Toc">toc</span></a><span class="punctuation">,</span> <a href="/src/toc.html#3578"><span data-toggle="tooltip" data-title="string">file</span></a><span class="punctuation">)</span><span class="punctuation">)</span>
        <a href="/src/toc.html#3555"><span data-toggle="tooltip" data-title="Toc">toc</span></a><span class="punctuation">.</span><span class="member" data-toggle="tooltip" data-title="(...items: TocEntry[]) =&gt; number">push</span><span class="punctuation">(</span><span class="punctuation">{</span> <span id="3656" data-toggle="tooltip" data-title="string">page</span><span class="punctuation">,</span> <span id="3662" data-toggle="tooltip" data-title="string">file</span><span class="punctuation">,</span> <span id="3668" data-toggle="tooltip" data-title="string">desc</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span> <span class="punctuation">}</span><span class="punctuation">)</span>
<span class="punctuation">}</span>
</code></pre>
<h2 id="page-title">Page Title</h2>
<p>The title of a HTML page is retrieved also from TOC.</p>
<pre class="syntaxhighlight"><code><span class="keyword">export</span> <span class="keyword">function</span> <span id="3683" class="member" data-toggle="tooltip" data-title="(toc: Toc, relFileName: string) =&gt; string">pageTitle</span><span class="punctuation">(</span><span id="3802" data-toggle="tooltip" data-title="Toc">toc</span><span class="punctuation">:</span> <a href="/src/toc.html#209"><span class="typename" data-toggle="tooltip" data-title="Toc">Toc</span></a><span class="punctuation">,</span> <span id="3811" data-toggle="tooltip" data-title="string">relFileName</span><span class="punctuation">:</span> <span class="keyword">string</span><span class="punctuation">)</span><span class="punctuation">:</span> <span class="keyword">string</span> <span class="punctuation">{</span>
    <span class="keyword">let</span> <span id="3851" data-toggle="tooltip" data-title="TocEntry">entry</span> <span class="punctuation">=</span> <a href="/src/toc.html#2289"><span class="member" data-toggle="tooltip" data-title="(entries: Toc, file: string) =&gt; TocEntry">findTocEntryForFile</span></a><span class="punctuation">(</span><a href="/src/toc.html#3802"><span data-toggle="tooltip" data-title="Toc">toc</span></a><span class="punctuation">,</span> <a href="/src/toc.html#3811"><span data-toggle="tooltip" data-title="string">relFileName</span></a><span class="punctuation">)</span>
    <span class="keyword">return</span> <a href="/src/toc.html#3851"><span data-toggle="tooltip" data-title="TocEntry">entry</span></a> <span class="punctuation">?</span> <span class="string">&quot; - &quot;</span> <span class="punctuation">+</span> <a href="/src/toc.html#3851"><span data-toggle="tooltip" data-title="TocEntry">entry</span></a><span class="punctuation">.</span><a href="/src/toc.html#813"><span data-toggle="tooltip" data-title="string">page</span></a> <span class="punctuation">:</span> <span class="string">&quot;&quot;</span>
<span class="punctuation">}</span>
</code></pre>

        
    </div>
            <div class="stickypane">
                
    <div class="pagemenu">
        <h3>On This Page</h3>
            <ul class="pagetree">
                
            </ul>
    </div>
                
            </div>
        </div>
    </div>
    <script src="/js/main.js"></script>
    
</body>
</html>